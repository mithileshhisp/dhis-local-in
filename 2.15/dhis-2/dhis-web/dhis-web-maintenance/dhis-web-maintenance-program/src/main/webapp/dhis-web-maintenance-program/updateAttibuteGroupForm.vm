<script type="text/javascript" src="javascript/updateAttributeGroupForm.js"></script>

<h3>$i18n.getString( "edit_tracked_entity_attribute_group" )</h3>
<form id="updateAttributeGroupForm" name="updateAttributeGroupForm" action="updateAttributeGroup.action" method="post" class="inputForm">

<div style="display:inline">
  <input type="hidden" id="id" name="id" value="$!attributeGroup.id"/>
</div>

<table>
	<tr>
		<th colspan="2">$i18n.getString( "tracked_entity_attribute_group_deltails" )</th>
	</tr>
	<tr>
		<td><label for="name">$i18n.getString( "name" ) <em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
		<td><input type="text" id="name" name="name" value="$encoder.htmlEncode( $attributeGroup.name )" class="{validate:{required:true}}"/></td>
	</tr>   
	<tr>
		<td><label for="description">$i18n.getString( "description" ) <em title="$i18n.getString( 'required' )" class="required">*</em></label></td>
		<td><input type="text" id="description" name="description" value="$encoder.htmlEncode( $attributeGroup.description )" class="{validate:{required:true}}"/></td>
	</tr>
	<tr>
		<td colspan="2" height="15px"></td>
	</tr>
</table>

<table>
	<colgroup>
		<col style='width:500px'/>
		<col/>
		<col style='width:500px'/>
	</colgroup>
	<tr>
		<th>$i18n.getString( "availableAttribute" )</th>
		<th>$i18n.getString( "filter" )</th>
		<th>$i18n.getString( "selectedAttribute" )
			<input type='hidden' id='hasAttributes' name='hasAttributes' class="{validate:{required:true}}">
		</th>
	</tr>
	
	<tr>
		<td>
			<select style="height: 200px; width: 100%;" multiple id="availableAttributes" name="availableAttributes" size="15"></select>
		</td>
		<td>
			<input type="button" value="&gt;" title="$i18n.getString('move_selected')" onclick="dhisAjaxSelect_moveAllSelected( 'availableAttributes', 'selectedAttributes' )" class='filterButton'/><br/>
			<input type="button" value="&lt;" title="$i18n.getString('remove_selected')" onclick="dhisAjaxSelect_moveAllSelected( 'selectedAttributes', 'availableAttributes' )" class='filterButton'/><br/>
			<input type="button" value="&gt;&gt;" onclick="moveAllById( 'availableAttributes', 'selectedAttributes' )" class='filterButton' /><br/>
			<input type="button" value="&lt;&lt;" onclick="moveAllById( 'selectedAttributes', 'availableAttributes' )" class='filterButton' />
		</td>
		<td>
			<select style="height: 200px; width: 100%; margin-top: 22px;" multiple id="selectedAttributes" name="selectedAttributes" size="15">
			#foreach($attribute in $attributeGroup.attributes)
			#if($!attribute)
				<option value='$attribute.id'>$attribute.name</option>
			#end
			#end
			</select>
		</td>
		<td>
			<a href="javascript:moveUpSelectedOption( 'selectedAttributes')" title="$i18n.getString( 'move_up' )"><img src="../images/move_up.png" alt="$i18n.getString( 'move_up' )"/></a><br/><br/>
			<a href="javascript:moveDownSelectedOption( 'selectedAttributes' )" title="$i18n.getString( 'move_down' )"><img src="../images/move_down.png" alt="$i18n.getString( 'move_up' )"/></a>
		</td>
	</tr>  

	<tr>
		<td colspan='2'>
			<input type="submit" value="$i18n.getString( 'update' )" style="width:10em" />
			<input type="button" value="$i18n.getString( 'cancel' )" style="width:10em" onclick="window.location.href='attributeGroup.action'" />
		</td>
	</tr>
</table> 

</form>     

<script>
	var i18n_remove_option = '$encoder.jsEscape( $i18n.getString( "remove_option" ) , "'") ';
</script>
