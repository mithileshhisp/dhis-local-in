<div class="panel panel-info" ng-controller="RelationshipController">
    <div class="panel-heading handle bold">

        <a href ng-click="showAddRelationship()"><span ng-class="{'light-blue': showAddRelationshipDiv}">{{relationshipWidget.title| translate}}</span></a>
        <span class="nav-pills" ng-if="selectedTei">
            | <a href ng-click="showAddRelationship()" title="{{'add_relationship'| translate}}"><span ng-class="{'light-blue': !showAddRelationshipDiv}">{{'add'| translate}}</span></a>
        </span>        
        
        <span class="pull-right">
            <a class="small-horizonal-spacing" href ng-click="expandCollapse(relationshipWidget)">
                <span ng-show="relationshipWidget.expand"><i class="fa fa-chevron-up" title="{{'collapse'| translate}}"></i></span>
                <span ng-show="!relationshipWidget.expand"><i class="fa fa-chevron-down" title="{{'expand'| translate}}"></i></span>
            </a>
            <a class="small-horizonal-spacing" href ng-click="removeWidget(relationshipWidget)" title="{{'remove'| translate}}"><i class="fa fa-times-circle"></i></a>            
        </span>        
    </div>
    <div ng-show="relationshipWidget.expand" class="panel-body dashboard-widget-container">
        <div ng-show="selectedTei && !selectedTei.relationships" class="alert alert-warning">{{'no_relationship'| translate}}</div> 
        <div ng-show="!selectedTei" class="alert alert-danger">{{'relationship_not_possible'| translate}}</div> 
        
        <div ng-show="selectedTei" class="remove-default-padding">
            <table class="table table-striped dhis2-table-hover">
                <tr ng-click="showDashboard(rel)" ng-repeat="rel in selectedTei.relationships" title="{{'go_to_dashboard'| translate}}">
                    <td>
                        <span ng-if="selectedTei.trackedEntityInstance === rel.trackedEntityInstanceA">{{relationships[rel.relationship].bIsToA}}</span>
                        <span ng-if="selectedTei.trackedEntityInstance === rel.trackedEntityInstanceB">{{relationships[rel.relationship].aIsToB}}</span>                        
                    </td> 
                </tr>
            </table>
        </div>
    </div>
</div>